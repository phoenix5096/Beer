--Get MAIN category NAMEs + IDs for a given store
select c.Name, c.Pkey from
tbl_ItemCategory c where pkey in (
	select distinct ParentCategory 
	from tbl_shopCategories a
	inner join tbl_ItemCategory b on a.categoryId = b.pkey
	where a. shopId in (select pkey from tbl_shop where name = 'Brew Store')) --example store name

--Get SUB category NAMEs + IDs for a given store (
select distinct c.Name, c.Pkey, c.ParentCategory 
from tbl_ItemCategory c
where parentCategory in  (
	select distinct ParentCategory 
	from tbl_shopCategories a
	inner join tbl_ItemCategory b on a.categoryId = b.pkey
	where a. shopId in (select pkey from tbl_shop where name = 'Brew Store')) --example store name

--Get all possible Item data for items in a given category, NOTE: The data access layer should know about the categories, which table to pull the data from, and which object to build
select a.*, b.Lovibond, b.Ppg, b.FermentablePct, c.MinAlpha, c.MaxAlpha, d.Attenuation,d.MinFermentationTemp, d.MaxFermentationTemp,d.AlcoholTolerance
from tbl_baseIngredient a
left join tbl_FermentableIngredient b on a.pkey = b.pkey
left join tbl_HopIngredient c on a.pkey = c.pkey
left join tbl_YeastIngredient d on a.pkey = d.pkey
where categoryId in (5,14,10) --example categories